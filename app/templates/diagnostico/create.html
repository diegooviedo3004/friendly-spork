{% extends 'base.html' %}
{% block content %}
<script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<form action="" method="POST" enctype="multipart/form-data">
    
    {{form.diagnostico.label}}
    <select name="diagnostico" required id="id_diagnostico" class="js-source-states">
        <option value="" selected>---------</option>


        {% for d in diagnosticos %}
        <optgroup label="Alaskan/Hawaiian Time Zone">

            <option value="{{d.id}}">{{d}}</option>
        </optgroup>

        {% endfor %}


    </select>



    {{form.comentario.label}}
    {{form.comentario}}

    {% csrf_token %}

    <input type="submit" value="Guardar">
</form>

<script type="text/javascript">
    // // $(document).ready(function() {
    // //   // Initialize "states" example
    // //   var $states = $(".js-source-states");
    // //   var statesOptions = $states.html();
    // //   $states.remove();
    
    // //   $(".js-states").append(statesOptions);
    // // });

    $(document).ready(function() {
        $('.js-source-states').select2();
    });
</script>

{% if form.errors %}
<script>
  Swal.fire({
    icon: 'error',
    title: 'Oops...',
    html: `
          {% for field, errors in form.errors.items %}
            {% for error in errors %}
              {{ field }}: {{ error }} <br>
            {% endfor %}
          {% endfor %}
          `,
  })
</script>
{% endif %}

{% endblock %}